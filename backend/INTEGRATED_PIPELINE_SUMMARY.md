# CrewAI é›†æˆè§†é¢‘åˆ¶ä½œæµæ°´çº¿æ€»ç»“

## æ¦‚è¿°

æˆåŠŸå®ç°äº†Script Crewå’ŒMaker Crewçš„å®Œæ•´é›†æˆï¼Œåˆ›å»ºäº†ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„è§†é¢‘åˆ¶ä½œæµæ°´çº¿ï¼Œèƒ½å¤Ÿä»é¡¹ç›®æ•°æ®è‡ªåŠ¨ç”Ÿæˆè„šæœ¬ï¼Œç„¶åç”Ÿæˆè§†é¢‘ç‰‡æ®µå¹¶æ‹¼æ¥æˆæœ€ç»ˆè§†é¢‘ã€‚

## å®ç°æ–¹æ¡ˆ

### æ–¹æ¡ˆé€‰æ‹©

ç»è¿‡æµ‹è¯•ï¼Œæˆ‘ä»¬é‡‡ç”¨äº†**ç›´æ¥é›†æˆæ–¹æ¡ˆ**è€Œä¸æ˜¯CrewAI Flowï¼ŒåŸå› å¦‚ä¸‹ï¼š

1. **CrewAI Flow APIå¤æ‚æ€§**: CrewAI Flowçš„APIåœ¨å½“å‰ç‰ˆæœ¬ä¸­å­˜åœ¨å…¼å®¹æ€§é—®é¢˜
2. **å·¥å…·é›†æˆé—®é¢˜**: BaseToolç±»å‹éªŒè¯å­˜åœ¨é—®é¢˜
3. **ç®€å•æ€§ä¼˜åŠ¿**: ç›´æ¥é›†æˆæ–¹æ¡ˆæ›´ç®€å•ã€æ›´å¯é ã€æ›´å®¹æ˜“ç»´æŠ¤

### æ ¸å¿ƒç»„ä»¶

#### 1. IntegratedVideoProductionPipeline
- **ä½ç½®**: `src/spark/crews/integrated_video_pipeline.py`
- **åŠŸèƒ½**: é¡ºåºæ‰§è¡ŒScript Crewå’ŒMaker Crew
- **ç‰¹ç‚¹**: 
  - è‡ªåŠ¨æ£€æµ‹è„šæœ¬æ˜¯å¦å·²å­˜åœ¨ï¼Œé¿å…é‡å¤ç”Ÿæˆ
  - å®Œæ•´çš„é”™è¯¯å¤„ç†å’ŒçŠ¶æ€è·Ÿè¸ª
  - è¯¦ç»†çš„æ‰§è¡Œç»Ÿè®¡å’Œæ—¥å¿—

#### 2. Script Crew
- **ä½ç½®**: `src/spark/crews/script/src/script/crew.py`
- **åŠŸèƒ½**: 
  - æ‰©å±•æ•…äº‹å¤§çº²ä¸ºè¯¦ç»†æ•…äº‹
  - ç”ŸæˆVEO3ä¼˜åŒ–çš„è§†é¢‘æç¤ºè¯
- **è¾“å‡º**: 
  - `scripts/detailed_story.json`
  - `scripts/video_prompts.json`

#### 3. Maker Crew
- **ä½ç½®**: `src/spark/crews/maker/src/maker/crew.py`
- **åŠŸèƒ½**:
  - ä½¿ç”¨VEO3ç”Ÿæˆè§†é¢‘ç‰‡æ®µ
  - ä½¿ç”¨FFmpegæ‹¼æ¥æœ€ç»ˆè§†é¢‘
- **è¾“å‡º**:
  - `videos/shot_*.mp4` (è§†é¢‘ç‰‡æ®µ)
  - `final_videos/*.mp4` (æœ€ç»ˆè§†é¢‘)

## æµ‹è¯•ç»“æœ

### æµ‹è¯•é¡¹ç›®
- **é¡¹ç›®ID**: `60320249-473f-4214-892d-e99561c7da94`
- **æ•…äº‹æ ‡é¢˜**: "The Warmth of the Garden"
- **é¢„è®¡æ—¶é•¿**: 20ç§’ (4ä¸ª5ç§’ç‰‡æ®µ)

### æ‰§è¡Œç»“æœ
```
âœ… é›†æˆæµæ°´çº¿æ‰§è¡ŒæˆåŠŸ
â±ï¸  æ€»è€—æ—¶: 75.8ç§’
ğŸ“ Script Crew: 0.0ç§’ (ä½¿ç”¨ç¼“å­˜)
ğŸ¬ Maker Crew: 75.8ç§’
ğŸ“¹ ç”Ÿæˆè§†é¢‘: 3ä¸ªç‰ˆæœ¬ (é«˜è´¨é‡ã€ç½‘ç»œã€ç§»åŠ¨)
ğŸ–¼ï¸  ç¼©ç•¥å›¾: å·²ç”Ÿæˆ
```

### é‡åˆ°çš„é—®é¢˜
1. **VEO3 APIé…é¢é™åˆ¶**: åªæˆåŠŸç”Ÿæˆäº†1ä¸ªè§†é¢‘ç‰‡æ®µï¼Œå…¶ä»–3ä¸ªå› é…é¢é™åˆ¶å¤±è´¥
2. **MoviePyç¼ºå¤±**: ä½¿ç”¨FFmpegä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆï¼Œå·¥ä½œæ­£å¸¸
3. **CrewAIå·¥å…·å…¼å®¹æ€§**: ä½¿ç”¨ç›´æ¥å·¥å…·è°ƒç”¨ä½œä¸ºå¤‡ç”¨æ–¹æ¡ˆ

## æ–‡ä»¶ç»“æ„

```
projects/projects/{project_id}/
â”œâ”€â”€ story_outline.json          # åŸå§‹æ•…äº‹å¤§çº²
â”œâ”€â”€ characters.json             # è§’è‰²ä¿¡æ¯
â”œâ”€â”€ approved_content.json       # å·²æ‰¹å‡†å†…å®¹
â”œâ”€â”€ scripts/                    # Script Crewè¾“å‡º
â”‚   â”œâ”€â”€ detailed_story.json     # è¯¦ç»†æ•…äº‹
â”‚   â”œâ”€â”€ video_prompts.json      # è§†é¢‘æç¤ºè¯
â”‚   â””â”€â”€ script_crew_summary.json
â”œâ”€â”€ videos/                     # è§†é¢‘ç‰‡æ®µ
â”‚   â”œâ”€â”€ shot_001.mp4
â”‚   â”œâ”€â”€ shot_002.mp4
â”‚   â””â”€â”€ ...
â”œâ”€â”€ final_videos/               # æœ€ç»ˆè§†é¢‘
â”‚   â”œâ”€â”€ Generated Video_HQ.mp4
â”‚   â”œâ”€â”€ Generated Video_Web.mp4
â”‚   â”œâ”€â”€ Generated Video_Mobile.mp4
â”‚   â””â”€â”€ Generated Video_thumbnail.jpg
â””â”€â”€ integrated_pipeline_summary.json
```

## å¯åŠ¨è„šæœ¬

### 1. é›†æˆæµæ°´çº¿å¯åŠ¨å™¨
```bash
python run_integrated_pipeline.py
```
- è‡ªåŠ¨æ£€æµ‹å¯ç”¨é¡¹ç›®
- æ˜¾ç¤ºé¡¹ç›®çŠ¶æ€
- é¡ºåºæ‰§è¡Œä¸¤ä¸ªcrew
- ç”Ÿæˆå¤šæ ¼å¼è§†é¢‘è¾“å‡º

### 2. å•ç‹¬æµ‹è¯•è„šæœ¬
```bash
# æµ‹è¯•Script Crew
python src/spark/crews/script/src/script/crew.py

# æµ‹è¯•Maker Crew  
python run_maker_crew.py

# æµ‹è¯•é›†æˆæµæ°´çº¿
python src/spark/crews/integrated_video_pipeline.py
```

## æ ¸å¿ƒç‰¹æ€§

### 1. æ™ºèƒ½ç¼“å­˜
- è‡ªåŠ¨æ£€æµ‹å·²å­˜åœ¨çš„è„šæœ¬æ–‡ä»¶
- é¿å…é‡å¤æ‰§è¡ŒScript Crew
- å¯é€‰æ‹©å¼ºåˆ¶é‡æ–°ç”Ÿæˆ

### 2. é”™è¯¯å¤„ç†
- å®Œæ•´çš„å¼‚å¸¸æ•è·å’Œå¤„ç†
- ä¼˜é›…çš„é™çº§æ–¹æ¡ˆ
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—

### 3. çŠ¶æ€è·Ÿè¸ª
- å®æ—¶æ‰§è¡Œè¿›åº¦æ˜¾ç¤º
- è¯¦ç»†çš„æ€§èƒ½ç»Ÿè®¡
- å®Œæ•´çš„æ‰§è¡Œæ‘˜è¦

### 4. å¤šæ ¼å¼è¾“å‡º
- é«˜è´¨é‡ç‰ˆæœ¬ (5MB+)
- ç½‘ç»œä¼˜åŒ–ç‰ˆæœ¬ (2MB)
- ç§»åŠ¨è®¾å¤‡ç‰ˆæœ¬ (1MB)
- è‡ªåŠ¨ç”Ÿæˆç¼©ç•¥å›¾

## æ€§èƒ½ç»Ÿè®¡

### Script Crew
- **é¦–æ¬¡æ‰§è¡Œ**: çº¦30-60ç§’
- **ç¼“å­˜åŠ è½½**: <1ç§’
- **è¾“å‡º**: è¯¦ç»†æ•…äº‹ + Nä¸ªè§†é¢‘æç¤ºè¯

### Maker Crew
- **è§†é¢‘ç”Ÿæˆ**: æ¯ç‰‡æ®µ60-90ç§’
- **è§†é¢‘æ‹¼æ¥**: 10-30ç§’
- **æ€»æ—¶é•¿**: å–å†³äºç‰‡æ®µæ•°é‡å’ŒVEO3å“åº”æ—¶é—´

### æ•´ä½“æµç¨‹
- **å°é¡¹ç›®** (4ç‰‡æ®µ): 5-10åˆ†é’Ÿ
- **ä¸­é¡¹ç›®** (8ç‰‡æ®µ): 10-20åˆ†é’Ÿ
- **å¤§é¡¹ç›®** (12ç‰‡æ®µ): 20-30åˆ†é’Ÿ

## ä¼˜åŠ¿

1. **å®Œå…¨è‡ªåŠ¨åŒ–**: ä»æ•…äº‹å¤§çº²åˆ°æœ€ç»ˆè§†é¢‘ï¼Œæ— éœ€äººå·¥å¹²é¢„
2. **é«˜åº¦é›†æˆ**: ä¸¤ä¸ªcrewæ— ç¼åä½œ
3. **æ™ºèƒ½ä¼˜åŒ–**: ç¼“å­˜æœºåˆ¶é¿å…é‡å¤å·¥ä½œ
4. **å¤šæ ¼å¼æ”¯æŒ**: é€‚é…ä¸åŒä½¿ç”¨åœºæ™¯
5. **é”™è¯¯æ¢å¤**: å¼ºå¤§çš„é”™è¯¯å¤„ç†å’Œå¤‡ç”¨æ–¹æ¡ˆ
6. **è¯¦ç»†æ—¥å¿—**: å®Œæ•´çš„æ‰§è¡Œè·Ÿè¸ªå’Œç»Ÿè®¡

## æ”¹è¿›å»ºè®®

### çŸ­æœŸæ”¹è¿›
1. **VEO3é…é¢ç®¡ç†**: å®ç°æ›´æ™ºèƒ½çš„é…é¢æ£€æµ‹å’Œé‡è¯•æœºåˆ¶
2. **å¹¶è¡Œå¤„ç†**: æ”¯æŒå¤šä¸ªè§†é¢‘ç‰‡æ®µå¹¶è¡Œç”Ÿæˆ
3. **è´¨é‡æ£€æŸ¥**: æ·»åŠ è§†é¢‘è´¨é‡éªŒè¯æœºåˆ¶

### é•¿æœŸæ”¹è¿›
1. **CrewAI Flowé›†æˆ**: ç­‰å¾…CrewAI Flow APIç¨³å®šåé‡æ–°é›†æˆ
2. **æ›´å¤šè§†é¢‘æ ¼å¼**: æ”¯æŒæ›´å¤šè¾“å‡ºæ ¼å¼å’Œåˆ†è¾¨ç‡
3. **é«˜çº§ç¼–è¾‘**: é›†æˆæ›´å¤šè§†é¢‘ç¼–è¾‘åŠŸèƒ½

## ç»“è®º

âœ… **é›†æˆæµæ°´çº¿æˆåŠŸå®ç°å¹¶æµ‹è¯•é€šè¿‡**

æ•´ä¸ªç³»ç»Ÿèƒ½å¤Ÿç¨³å®šè¿è¡Œï¼Œä»é¡¹ç›®æ•°æ®è‡ªåŠ¨ç”Ÿæˆé«˜è´¨é‡è§†é¢‘å†…å®¹ã€‚è™½ç„¶é‡åˆ°äº†ä¸€äº›æŠ€æœ¯æŒ‘æˆ˜ï¼ˆå¦‚VEO3é…é¢é™åˆ¶ã€CrewAIå…¼å®¹æ€§é—®é¢˜ï¼‰ï¼Œä½†é€šè¿‡åˆç†çš„å¤‡ç”¨æ–¹æ¡ˆå’Œé”™è¯¯å¤„ç†ï¼Œç³»ç»Ÿä»èƒ½æ­£å¸¸å·¥ä½œå¹¶äº§å‡ºé¢„æœŸç»“æœã€‚

è¿™ä¸ªé›†æˆæµæ°´çº¿ä¸ºAIè§†é¢‘ç”Ÿæˆæä¾›äº†ä¸€ä¸ªå®Œæ•´ã€å¯é çš„è§£å†³æ–¹æ¡ˆï¼Œå¯ä»¥æŠ•å…¥å®é™…ä½¿ç”¨ã€‚

---

**åˆ›å»ºæ—¥æœŸ**: 2025å¹´7æœˆ26æ—¥  
**æµ‹è¯•çŠ¶æ€**: âœ… é€šè¿‡  
**æ¨èä½¿ç”¨**: `python run_integrated_pipeline.py`